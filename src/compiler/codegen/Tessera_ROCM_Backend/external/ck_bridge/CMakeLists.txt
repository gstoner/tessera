cmake_minimum_required(VERSION 3.20)
project(TesseraCKBridge LANGUAGES CXX)
add_library(tessera_ck_bridge STATIC ck_bridge.cpp)
target_include_directories(tessera_ck_bridge PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})
find_package(composable_kernels QUIET)
if (composable_kernels_FOUND)
  target_link_libraries(tessera_ck_bridge PUBLIC composable_kernels::ck)
  target_compile_definitions(tessera_ck_bridge PUBLIC TESSERA_HAVE_CK=1)
else()
  message(STATUS "Composable Kernels not found; ck bridge builds with stubs")
endif()
